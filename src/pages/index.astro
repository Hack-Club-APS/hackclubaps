---
import Layout from "@/layouts/base.astro";
import Switch from "@/components/switch.vue";
import NavBar from "@/components/navBar.vue";
import Hero from "@/components/hero.astro";
import Banner from "@/components/banner.astro";
import Activities from "@/components/activities.astro";
import Projects from "@/components/projects.astro";
import Events from "@/components/events.astro";
import Join from "@/components/join.astro";
import Footer from "@/components/footer.astro";
import Teamcards from "@/components/team.astro";
import Membercards from "@/components/members.astro";

const homeIcon = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
      <g>
        <path stroke="currentColor" fill="white" d="M16,5c-0.358,0 -0.736,0.149 -0.997,0.264c-0.297,0.13 -0.676,0.326 -1.077,0.555c-0.789,0.451 -1.798,1.102 -2.878,1.864c-2.149,1.518 -4.715,3.572 -6.755,5.61c-0.391,0.39 -0.391,1.024 0,1.414c0.39,0.391 1.024,0.391 1.414,0c1.96,-1.962 4.394,-3.908 6.495,-5.39c1.045,-0.738 1.974,-1.337 2.716,-1.761c0.365,-0.209 0.649,-0.357 0.887,-0.46c0.091,-0.04 0.154,-0.064 0.195,-0.078c0.041,0.014 0.104,0.038 0.194,0.078c0.239,0.103 0.523,0.251 0.888,0.46c0.742,0.424 1.671,1.023 2.716,1.761c2.101,1.482 4.535,3.428 6.495,5.39c0.39,0.391 1.024,0.391 1.414,0c0.391,-0.39 0.391,-1.024 0,-1.414c-2.04,-2.038 -4.606,-4.092 -6.755,-5.61c-1.08,-0.762 -2.089,-1.413 -2.878,-1.864c-0.401,-0.229 -0.78,-0.425 -1.077,-0.555c-0.262,-0.115 -0.639,-0.264 -0.997,-0.264Zm3.934,19.816c0.184,-0.028 0.358,-0.061 0.524,-0.098l0.014,-0.003c0.923,-0.2 1.291,-0.482 1.522,-0.79c0.292,-0.39 0.589,-1.123 0.774,-2.649l0.001,-0.003c0.165,-1.347 0.218,-3.047 0.229,-5.273c0.002,-0.552 0.45,-1 1.002,-1c0.552,0 1,0.448 0.998,1c-0.052,10.061 -1.005,11 -8.998,11c-7.993,0 -8.946,-0.939 -8.998,-11c-0.002,-0.552 0.446,-1 0.998,-1c0.552,0 1,0.448 1.002,1c0.011,2.226 0.064,3.926 0.229,5.273l0.001,0.003c0.185,1.526 0.482,2.259 0.774,2.649c0.231,0.308 0.599,0.59 1.523,0.79l0.013,0.003c0.166,0.037 0.34,0.07 0.524,0.098c-0.049,-0.788 -0.066,-1.718 -0.066,-2.816c0,-5.133 0.4,-6 4,-6c3.6,0 4,0.867 4,6c0,1.098 -0.017,2.028 -0.066,2.816Zm-2.015,0.16c0.062,-0.782 0.081,-1.74 0.081,-2.976c0,-1.258 -0.02,-2.159 -0.105,-2.87l0,-0.002c-0.081,-0.688 -0.196,-0.921 -0.228,-0.973c-0.001,-0.001 -0.001,-0.002 -0.001,-0.003c-0.002,-0.005 -0.007,-0.009 -0.012,-0.009c-0.019,-0.001 -0.042,-0.003 -0.073,-0.009c-0.004,-0.001 -0.009,-0.002 -0.012,-0.003c-0.338,-0.11 -0.751,-0.133 -1.568,-0.131l-0.002,0c-0.817,-0.002 -1.23,0.021 -1.568,0.131c-0.004,0.001 -0.008,0.002 -0.012,0.003c-0.031,0.006 -0.055,0.008 -0.073,0.009c-0.005,0 -0.01,0.004 -0.012,0.009c0,0.002 0,0.002 -0.001,0.003c-0.032,0.052 -0.147,0.285 -0.228,0.973l0,0.002c-0.085,0.711 -0.105,1.612 -0.105,2.87c0,1.236 0.019,2.194 0.08,2.976c0.569,0.018 1.204,0.024 1.92,0.024l0,0c0.715,0 1.35,-0.006 1.919,-0.024Z" />
      </g>
    </svg>`;
const searchIcon = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
      <g>
        <path
          stroke="currentColor"
          fill="white"
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M21.08 10.873c0 1.873-.286 3.173-1.164 3.977a8.034 8.034 0 0 1 3.648 4.188c.124.328.153.708-.052.993-.568.79-1.673-.11-2.129-.97a6 6 0 0 0-10.604 0c-.456.86-1.561 1.76-2.13.97-.205-.285-.175-.665-.051-.993a8.025 8.025 0 0 1 3.649-4.188c-.88-.804-1.166-2.104-1.166-3.977a5 5 0 0 1 10 0zm-2.468 2.456c.198-.215.469-.773.469-2.456a3 3 0 1 0-6 0c0 1.683.272 2.24.47 2.456.163.176.68.544 2.53.544 1.85 0 2.367-.368 2.53-.544z"
        />
        <path stroke="currentColor"
        fill="white" d="M15.098 19.127a1 1 0 0 1 2 0v1.268l1.098-.634a1 1 0 0 1 1 1.732l-1.098.634 1.098.634a1 1 0 1 1-1 1.732l-1.098-.634v1.268a1 1 0 1 1-2 0v-1.268L14 24.493a1 1 0 1 1-1-1.732l1.098-.634L13 21.493a1 1 0 0 1 1-1.732l1.098.634v-1.268z" />
      </g>
    </svg>`;

const navItems = [
    { id: "home", label: "Home", icon: homeIcon },
    { id: "team", label: "Team", icon: searchIcon },
];
---

<Layout title="Hack Club @ APS">
    <div
        class="md:hidden fixed bottom-4 md:bottom-auto md:top-4 md:w-full ml-4 md:m-auto grid place-items-center overflow-visible z-50"
    >
        <NavBar
            color="white"
            modelValue="activeTab"
            items={navItems}
            size="large"
            client:only="vue"
        />
    </div>
    <div
        class="fixed hidden top-8 w-full md:grid place-items-center overflow-visible z-50"
    >
        <NavBar
            color="black"
            modelValue="activeTab"
            items={navItems}
            size="XL"
            client:only="vue"
        />
    </div>

    <main>
        <section id="home" class="app-section active">
            <Hero />
            <Banner />
            <Activities />
            <Projects />
            <Events />
            <Join />
            <Footer />
        </section>
        <section id="team" class="app-section">
            <Teamcards />
            <Membercards />
            <Footer />
        </section>
    </main>
    <script>
        import { currentNav } from "../stores/navStore";

        const sections = document.querySelectorAll(".app-section");

        function updateView(newId) {
            sections.forEach((section) => {
                if (section.id === newId) {
                    section.classList.add("active");
                } else {
                    section.classList.remove("active");
                }
            });
        }
        currentNav.subscribe((newId) => {
            updateView(newId);
        });
        if (!currentNav.get()) {
            currentNav.set("home");
        }
    </script>
</Layout>
