---
import { Github, Slack } from 'lucide-react';
import team from "@/data/team.json";
---

<section id="team" class="py-24 bg-white dark:bg-[#17171D] transition-colors">
  <div class="max-w-6xl mx-auto px-4">

    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-5xl font-bold text-slate-900 dark:text-white mb-4 transition-colors">
        Meet the Team
      </h2>
      <p class="text-lg text-slate-600 dark:text-slate-400 transition-colors">
        The students running the show.
      </p>
    </div>

    <div class="flex flex-wrap justify-center gap-8 md:gap-12">
      {team.map((member) => (
        <div class="card-tilt group relative w-full sm:w-72 p-6 rounded-2xl bg-white dark:bg-[#252429] border border-slate-100 dark:border-slate-700 shadow-xl hover:-translate-y-2 transition-all duration-300">

          <div class={`w-24 h-24 mx-auto rounded-full ${member.color} mb-6 flex items-center justify-center text-5xl border-4 border-white dark:border-slate-700 shadow-md group-hover:scale-110 transition-transform duration-300`}>
            {member.icon}
          </div>

          <div class="text-center">
            <h3 class="text-xl font-bold text-slate-900 dark:text-white mb-1">
              {member.name}
            </h3>
            <div class="inline-block px-3 py-1 rounded-full bg-[#ec3750]/10 text-[#ec3750] text-xs font-bold uppercase tracking-wide mb-3">
              {member.role}
            </div>
            <p class="text-sm text-slate-600 dark:text-slate-400 leading-relaxed">
              {member.bio}
            </p>
          </div>

          <div class="flex justify-center gap-3 mt-6 opacity-0 group-hover:opacity-100 transition-opacity duration-300 transform translate-y-2 group-hover:translate-y-0">
            <button class="text-slate-400 hover:text-[#ec3750] transition-colors">
              <a href={member.Github} target="_blank" rel="noopener noreferrer"><Github size={18} /></a>
            </button>
            <button class="text-slate-400 hover:text-[#ec3750] transition-colors">
              <a href={member.Slack} target="_blank" rel="noopener noreferrer"><Slack size={18} /></a>
            </button>
          </div>
        </div>
      ))}
    </div>

  </div>
</section>

<style>
  .card-tilt {
    transform-style: preserve-3d;
    perspective: 900px;
    will-change: transform;
    transition: transform 0.6s cubic-bezier(0.23, 1, 0.32, 1);
  }
</style>

<script>
  document.querySelectorAll(".card-tilt").forEach((card) => {
    let rect;

    card.addEventListener("mousemove", (e) => {
      if (!rect) rect = card.getBoundingClientRect();

      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;

      const px = (x / rect.width) - 0.5;
      const py = (y / rect.height) - 0.5;

      const rotateX = py * -15;
      const rotateY = px * 15;

      card.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg) translateY(-8px)`;
    });

    card.addEventListener("mouseleave", () => {
      card.style.transform = "rotateX(0deg) rotateY(0deg)";
    });
  });
</script>
